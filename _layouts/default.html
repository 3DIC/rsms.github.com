<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Rasmus Andersson {% if page.title %}&mdash; {{ page.title }} {% endif %}</title>
    <meta name="description" content="Ramblings by Rasmus Andersson -- a Swedish designer with a passion for technology">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    {% if page.title != "Archive (sidebar)" %}
		<meta name="viewport" content="width=700">
		{% endif %}
    <link rel="stylesheet" media="screen, projection" href="/res/screen.css" type="text/css">
    <link rel="stylesheet" media="print" href="/res/print.css" type="text/css">
    <link rel="alternate" type="application/atom+xml" title="Rasmus Andersson" href="http://feeds.feedburner.com/hunch">
    <link rel="shortcut icon" href="/res/signature.png">
    {% if page.title != "Archive (sidebar)" %}
    <script>
      //html { zoom:50%; }
      if (window.addEventListener) {
        var sidebarAdjustTimer;
        function updateOrientation(orientationChangeEvent) {
          if (sidebarAdjustTimer) clearInterval(sidebarAdjustTimer);
          console.log('window.orientation -> '+window.orientation);
          if (window.orientation === -90 || window.orientation === 90) {
            // landscape
            var sidebar = document.getElementById('sidebar');
            if (!sidebar.src || sidebar.src === '') {
              sidebar.src = '/archive/sidebar.html';
            }
            sidebarAdjustTimer = setInterval(function() {
              var height = Math.round(document.height * 1.6);
              if (sidebar.height != height) {
                sidebar.height = height;
                sidebar.style.height = height + 'px';
              }
            },500);
          } else {
            // portrait
          }
        }
        window.addEventListener('orientationchange', updateOrientation);
        document.addEventListener('DOMSubtreeModified', function(ev) {
          if (document.getElementById('sidebar')) {
            document.removeEventListener('DOMSubtreeModified', arguments.callee);
            updateOrientation();
          }
        });
      }
    </script>
    {% endif %}
  </head>
  <body>
    <iframe id="sidebar"></iframe>
    <header>
      <ul class="navigation">
        <li><a href="/archive/" title="Archived articles">Archive</a></li>
        <li><a href="/about/">About me</a></li>
      </ul>
      <h1><a href="/"><img src="/res/signature.png" width="81" height="31" alt="Signature"></a></h1>
    </header>
    <div class="wrapper content">
      {{ content }}
    </div>
    {% if paginator.page %}
    <div id="paginator">
      {% if paginator.next_page %}
      <a href="/page{{ paginator.next_page }}/">Older entries</a>
      {% endif %}
      {% if paginator.previous_page %}
      <a href="/page{{ paginator.previous_page }}/">Newer entries</a>
      {% endif %}
    </div>
    {% endif %}
    <footer>
      <form action="http://www.google.com/cse" id="cse-search-box">
        <p>
          Older posts can be found in <a href="/archive/">the archive</a> or by searching: &nbsp;
          <input type="hidden" name="cx" value="006553118601910168903:-x3qflztwei" />
          <input type="hidden" name="ie" value="UTF-8" />
          <input type="text" name="q" size="31" />
          <input type="submit" name="sa" value="Search" />
        </p>
      </form>
      <script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>
    </footer>
    {% include prettify.html %}
    {% include analytics.html %}
    {% include disqus.html %}
  </body>
</html>
